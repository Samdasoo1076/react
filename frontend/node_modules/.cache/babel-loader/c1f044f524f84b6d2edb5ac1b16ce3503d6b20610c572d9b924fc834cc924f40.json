{"ast":null,"code":"var _jsxFileName = \"D:\\\\GifHub\\\\editor_test\\\\frontend\\\\src\\\\components\\\\ToastEditor.js\",\n  _s = $RefreshSig$();\n// src/components/ToastEditor.js\nimport React, { useRef, useState } from 'react';\nimport '@toast-ui/editor/dist/toastui-editor.css';\nimport { Editor } from '@toast-ui/react-editor';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ToastEditor() {\n  _s();\n  const editorRef = useRef(null);\n  const [title, setTitle] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!editorRef.current) return;\n    const instance = editorRef.current.getInstance();\n    const markdown = instance.getMarkdown(); // 마크다운 원본\n    const html = instance.getHTML(); // HTML 변환본\n\n    try {\n      await axios.post('/api/posts', {\n        title,\n        content_md: markdown,\n        content_html: html\n      });\n      alert('글이 저장되었습니다!');\n      // 초기화\n      setTitle('');\n      instance.setMarkdown('');\n    } catch (err) {\n      console.error(err);\n      alert('글 저장 중 오류가 발생했습니다.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uC0C8 \\uAE00 \\uC791\\uC131\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        ref: editorRef,\n        initialValue: \"\",\n        initialEditType: \"markdown\" // 'markdown' 또는 'wysiwyg'\n        ,\n        previewStyle: \"vertical\",\n        height: \"500px\",\n        usageStatistics: false,\n        hooks: {\n          addImageBlobHook: async (blob, callback) => {\n            // FormData 생성\n            const formData = new FormData();\n            formData.append('file', blob);\n            try {\n              // 백엔드의 이미지 업로드 API 호출 (예: /api/upload)\n              const response = await axios.post('http://localhost:4000/api/upload', formData, {\n                headers: {\n                  'Content-Type': 'multipart/form-data'\n                }\n              });\n              // 업로드가 성공하면, 반환된 이미지 URL을 에디터에 삽입\n              callback(response.data.url, '이미지');\n            } catch (error) {\n              console.error('이미지 업로드 실패:', error);\n              alert('이미지 업로드 중 오류가 발생했습니다.');\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          marginTop: '10px',\n          padding: '10px 20px'\n        },\n        children: \"\\uC800\\uC7A5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(ToastEditor, \"OZMo2TXNw62B7NhH4+ilts3BKp0=\");\n_c = ToastEditor;\nexport default ToastEditor;\nvar _c;\n$RefreshReg$(_c, \"ToastEditor\");","map":{"version":3,"names":["React","useRef","useState","Editor","axios","jsxDEV","_jsxDEV","ToastEditor","_s","editorRef","title","setTitle","handleSubmit","e","preventDefault","current","instance","getInstance","markdown","getMarkdown","html","getHTML","post","content_md","content_html","alert","setMarkdown","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","marginBottom","type","placeholder","value","onChange","target","width","padding","ref","initialValue","initialEditType","previewStyle","height","usageStatistics","hooks","addImageBlobHook","blob","callback","formData","FormData","append","response","headers","data","url","marginTop","_c","$RefreshReg$"],"sources":["D:/GifHub/editor_test/frontend/src/components/ToastEditor.js"],"sourcesContent":["// src/components/ToastEditor.js\r\nimport React, { useRef, useState } from 'react';\r\nimport '@toast-ui/editor/dist/toastui-editor.css';\r\nimport { Editor } from '@toast-ui/react-editor';\r\nimport axios from 'axios';\r\n\r\nfunction ToastEditor() {\r\n  const editorRef = useRef(null);\r\n  const [title, setTitle] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!editorRef.current) return;\r\n    const instance = editorRef.current.getInstance();\r\n    const markdown = instance.getMarkdown();  // 마크다운 원본\r\n    const html = instance.getHTML();          // HTML 변환본\r\n\r\n    try {\r\n      await axios.post('/api/posts', {\r\n        title,\r\n        content_md: markdown,\r\n        content_html: html,\r\n      });\r\n      alert('글이 저장되었습니다!');\r\n      // 초기화\r\n      setTitle('');\r\n      instance.setMarkdown('');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('글 저장 중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>새 글 작성</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div style={{ marginBottom: '10px' }}>\r\n          <label>제목</label><br />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"제목을 입력하세요\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            style={{ width: '100%', padding: '8px' }}\r\n          />\r\n        </div>\r\n        <Editor\r\n          ref={editorRef}\r\n          initialValue=\"\"\r\n          initialEditType=\"markdown\" // 'markdown' 또는 'wysiwyg'\r\n          previewStyle=\"vertical\"\r\n          height=\"500px\"\r\n          usageStatistics={false}\r\n          hooks={{\r\n            addImageBlobHook: async (blob, callback) => {\r\n              // FormData 생성\r\n              const formData = new FormData();\r\n              formData.append('file', blob);\r\n              try {\r\n                // 백엔드의 이미지 업로드 API 호출 (예: /api/upload)\r\n                const response = await axios.post('http://localhost:4000/api/upload', formData, {\r\n                  headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                  },\r\n                });\r\n                // 업로드가 성공하면, 반환된 이미지 URL을 에디터에 삽입\r\n                callback(response.data.url, '이미지');\r\n              } catch (error) {\r\n                console.error('이미지 업로드 실패:', error);\r\n                alert('이미지 업로드 중 오류가 발생했습니다.');\r\n              }\r\n            },\r\n          }}\r\n        />\r\n        <button type=\"submit\" style={{ marginTop: '10px', padding: '10px 20px' }}>\r\n          저장\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ToastEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}